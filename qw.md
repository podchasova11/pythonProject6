IdentityServer3
Большая картина
Большинство современных приложений выглядят примерно так:

современная архитектура приложений

Типичные взаимодействия:

Браузеры взаимодействуют с веб-приложениями

Веб-приложения взаимодействуют с веб-API (иногда самостоятельно, иногда от имени пользователя)

Браузерные приложения взаимодействуют с веб-API

Собственные приложения взаимодействуют с веб-API

Серверные приложения взаимодействуют с веб-API

Веб-API взаимодействуют с веб-API (иногда самостоятельно, иногда от имени пользователя)

Обычно каждый уровень (фронтэнд, средний уровень и бэкэнд) должен защищать ресурсы и реализовывать аутентификацию и/или авторизацию — и, как правило, в отношении одного и того же хранилища данных пользователя.

Вот почему мы не реализуем эти фундаментальные функции безопасности непосредственно в бизнес-приложениях/конечных точках, а вместо этого передаем эту критически важную функциональность на аутсорсинг службе — службе токенов безопасности.

Это приводит к следующей архитектуре безопасности и использованию протоколов:

протоколы безопасности

Это разделяет проблемы безопасности на две части.

Аутентификация

Аутентификация необходима, когда приложению необходимо знать личность текущего пользователя. Обычно эти приложения управляют данными от имени этого пользователя и должны убедиться, что этот пользователь может получить доступ только к тем данным, которые ему разрешены. Наиболее распространенным примером этого являются (классические) веб-приложения, но нативные и основанные на JS приложения также нуждаются в аутентификации.

Наиболее распространенными протоколами аутентификации являются SAML2p, WS-Federation и OpenID Connect, причем SAML2p является самым популярным и широко распространенным.

OpenID Connect — самый новый из трех, но его обычно считают будущим, поскольку он имеет наибольший потенциал для современных приложений. Он был создан для сценариев мобильных приложений с самого начала и разработан так, чтобы быть дружественным к API.

API-доступ

Приложения имеют два основных способа взаимодействия с API — использование идентификатора приложения или делегирование идентификатора пользователя. Иногда необходимо объединить оба способа.

OAuth2 — это протокол, который позволяет приложениям запрашивать токены доступа из службы токенов безопасности и использовать их для связи с API. Это снижает сложность как клиентских приложений, так и API, поскольку аутентификация и авторизация могут быть централизованы.

OpenID Connect и OAuth2 — вместе лучше

OpenID Connect и OAuth2 очень похожи — по сути, OpenID Connect — это расширение поверх OAuth2. Это означает, что вы можете объединить две фундаментальные проблемы безопасности — аутентификацию и доступ к API в один протокол — и часто один круговой обход службы маркера безопасности.

Вот почему мы считаем, что сочетание OpenID Connect и OAuth2 является наилучшим подходом к защите современных приложений в обозримом будущем. IdentityServer3 представляет собой реализацию этих двух протоколов и высоко оптимизирован для решения типичных проблем безопасности современных мобильных, нативных и веб-приложений.
